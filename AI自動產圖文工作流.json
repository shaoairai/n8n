{
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.openai.com/v1/responses",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "openAiApi",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"model\": \"gpt-4o\",\n    \"input\": \"{{ $json.output.delleprompt }}. Add bold Chinese text on the image: {{ $json.output.keyword }} â€” the text should be clearly visible, placed at the top or center of the image, using stylish, modern typography.\",\n    \"tools\": [\n      {\n  \"type\": \"image_generation\",\n  \"size\": \"1024x1024\",        \n  \"quality\": \"high\",       \n  \"output_format\": \"jpeg\",     \n  \"output_compression\": 80,          \n  \"background\": \"opaque\"\n}\n    ],\n    \"tool_choice\": {\n      \"type\": \"image_generation\"\n    }\n  }",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        432,
        304
      ],
      "id": "d9df77b2-c010-4bbc-baa8-43dba5b72d66",
      "name": "ç”Ÿæˆåœ–ç‰‡",
      "credentials": {
        "openAiApi": {
          "id": "ahH6GnS2JZKgjMZU",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const base64String = $json[\"output\"][0][\"result\"];  // ä½ çš„ base64 å­—ä¸²ä¾†æº\n\n// å»ºç«‹ Buffer\nconst binaryData = Buffer.from(base64String, 'base64');\n\n// è¨ˆç®—å¤§å°ï¼ˆä½å…ƒçµ„ / KB / MBï¼‰\nconst byteSize = binaryData.length;\nconst kbSize = (byteSize / 1024).toFixed(2);\nconst mbSize = (byteSize / 1024 / 1024).toFixed(2);\n\n// å›å‚³ binary è³‡æ–™èˆ‡æª”æ¡ˆå¤§å°è³‡è¨Š\nreturn [\n  {\n    binary: {\n      image: {\n        data: binaryData.toString('base64'),\n        mimeType: 'image/jpeg',\n        fileName: 'generated_image.jpeg'\n      }\n    },\n    json: {\n      byteSize: byteSize,\n      kbSize: kbSize,\n      mbSize: mbSize + ' MB'\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        672,
        304
      ],
      "id": "02b1fbd9-135c-4cf7-b54c-8724df3160ef",
      "name": "è½‰æ›æˆjpg"
    },
    {
      "parameters": {
        "inputDataFieldName": "image",
        "name": "={{ $('ç”Ÿæˆåœ–ç‰‡').item.json.output[0].revised_prompt }}{{ $('ç”Ÿæˆåœ–ç‰‡').item.json.output[0].output_format }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1kNqcyJmxn1kWTD6F50Bic7P59LdHoJT5",
          "mode": "list",
          "cachedResultName": "åœ–ç‰‡æ”¾ç½®è™•",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1kNqcyJmxn1kWTD6F50Bic7P59LdHoJT5"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        928,
        304
      ],
      "id": "ffef35a7-217b-44fa-b741-acf5c1dd6ac0",
      "name": "Google Drive",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "dCPr5UwBiGZFmONZ",
          "name": "huber@ooschool.cc ForBubbleGoogle Drive"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -240,
        224
      ],
      "id": "0a2860b0-6aa3-4b7e-a97a-3149c6764742",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ nSchool è·èƒ½å­¸é™¢çš„ Instagram å°ç·¨ï¼Œè² è²¬è£½ä½œæ¯å¤©çš„è²¼æ–‡ï¼Œä¸»é¡Œç‚ºã€Œä¹¾è²¨æ•™å­¸ã€ã€ã€Œç”¢æ¥­è¶¨å‹¢ã€ã€ã€Œè·æ¶¯è½‰è·ã€ã€ã€ŒæŠ€èƒ½å­¸ç¿’ã€ï¼Œç›®æ¨™æ˜¯æ¿€ç™¼è®€è€…å°å‰ç«¯ã€å¾Œç«¯ã€Pythonã€AI ç­‰èª²ç¨‹çš„èˆˆè¶£ï¼Œè®“å…§å®¹æœ‰è¶£ã€å¸ç›ï¼Œåƒå¤§å­¸åŒå­¸åœ¨èŠå¤©ï¼Œæ¿€ç™¼è½‰ç™¼æ…¾æœ›ã€‚\n\nä»»å‹™ï¼šæ ¹æ“šä»¥ä¸‹ç¶²è·¯æ–‡ç« ï¼Œç”Ÿæˆ Instagram è²¼æ–‡å…§å®¹ã€DALLÂ·E å°é¢åœ–æç¤ºï¼Œä¸¦åˆ¤æ–·æ–‡ç« çš„å­¸ç¿’åƒ¹å€¼ã€‚è«‹åš´æ ¼éµå¾ªä»¥ä¸‹è¦å‰‡ï¼Œä¸¦è¼¸å‡ºæŒ‡å®š JSON æ ¼å¼ã€‚\n\nè¼¸å…¥è³‡æ–™ï¼š\n\nåŸæ¨™é¡Œ: {{ $json['æ¨™é¡Œ'] }}\nåŸæ–‡ç« å…§å®¹: {{ $json['å…§å®¹'] }}\næ–‡ç« æ™‚é–“: {{ $json['æ–‡ç« æ™‚é–“'] }}\n\nè¦å‰‡:\n-\nå…§å®¹è™•ç†ï¼ˆè¼¸å‡ºåœ¨ \"content\"ï¼‰ï¼š\næ”¹å¯«æ–‡ç« ç‚º IG è²¼æ–‡é¢¨æ ¼ï¼Œåƒå¤§å­¸åŒå­¸åœ¨ç¾¤çµ„èŠå¤©ï¼Œå£èªåŒ–ã€èª‡å¼µã€å¸¶é»è€å¯¶æ„Ÿï¼Œç”¨ emojiã€å•å¥ã€æ„Ÿå˜†èªæ°£ï¼Œè®“è®€è€…ä¸€çœ‹å°±æƒ³è½‰ç™¼ã€‚\nä¸å¯æŠ„è¥²ï¼Œæ‰€æœ‰å¥å­ç”¨è‡ªå·±çš„è©±é‡å¯«ï¼Œç§»é™¤æ‰€æœ‰å‡ºè™•ï¼ˆpodcastã€æ›¸åã€ä½œè€…ã€é€£çµã€è¨‚é–±ç­‰ï¼‰ã€‚\nè²¼æ–‡è¦ç›´æ¥æˆ³ä¸­æ–‡ç« çš„ç—›é»ï¼ˆä¾‹å¦‚ã€Œå­¸ç¨‹å¼å¥½é›£ã€ã€Œè½‰è·æ€•å¤±æ•—ã€ï¼‰\nä¸ç®¡ç”šéº¼ä¸»é¡Œæœ€å¾Œéƒ½é¬¼è½‰ CTAï¼šã€Œä½ æ˜¯ç¤¾æœƒæ–°é®®äºº?å·¥ä½œé‡åˆ°ç“¶é ¸?æƒ³å­¸ç¿’é«˜è–ªæŠ€èƒ½?æˆ‘å€‘é€™é‚Šæœ‰å¾0é–‹å§‹è¶…é©åˆæ–°æ‰‹çš„å‰å¾Œç«¯å·¥ç¨‹ã€Pythonèª²ç¨‹!ç•™è¨€ä¸€å€‹ emojiï¼Œæˆ‘ç§è¨Šä½ å…è²»èª²ç¨‹ï¼ğŸ˜ã€ã€‚ä½†ä½ ä¸è¦CTAæˆ‘å€‘æ²’æœ‰çš„é ˜åŸŸï¼Œæ¯”å¦‚æˆ‘å€‘æ²’æœ‰Excelã€è‹±æ–‡çš„èª²ç¨‹\nå¦‚æœæ–‡ç« æ˜¯æ¢åˆ—å¼ä¹¾è²¨ï¼Œé–‹é ­ç”¨ 1ï¸âƒ£2ï¸âƒ£3ï¸âƒ£ æ’ç‰ˆï¼Œæ¯é»ç”¨ç°¡çŸ­ã€å¸ç›çš„èªå¥ï¼ˆä¾‹å¦‚ã€ŒHTMLï¼šç¶²é éª¨æ¶ï¼Œè¶…ç°¡å–®ï¼ã€ï¼‰ã€‚\nçµå°¾åŠ  10 å€‹ hashtagï¼Œä¾‹å¦‚ #æŠ€èƒ½å­¸ç¿’ #å·¥ç¨‹å¸«è½‰è· #è·æ¶¯æˆé•· #å­¸ç¨‹å¼ #è½‰è·å¿…å‚™ã€‚\nèªæ°£è¦å¹´è¼•ã€åƒæœ‹å‹å–Šè©±ï¼ˆä¾‹å¦‚ã€Œåˆ¥å†æ‹–å•¦ï¼ã€ã€Œ3å€‹æœˆè®Šå¤§ç¥ï¼ã€ï¼‰ï¼Œé¿å…ç„¡èŠçš„åˆ¶å¼èªå¥ã€‚\n-\nå°é¢åœ–æç¤ºï¼ˆè¼¸å‡ºåœ¨ \"delleprompt\"ï¼‰ï¼š\nç‚º DALLÂ·E ç”Ÿæˆ viral å°é¢åœ–æç¤º\né¢¨æ ¼é¡å‹-2D æ‰å¹³é¢¨ï¼ˆFlat Designï¼‰çµåˆå¡é€šæ’ç•«é¢¨ï¼Œå°ˆæ¥­æœ‰è¨­è¨ˆæ„Ÿï¼Œå¸å¼•ç¤¾ç¾¤å‚³æ’­\nä¸»è‰²èª¿-æ˜äº®é®®è±”çš„è—è‰²ç³»ç‚ºä¸»ï¼Œæ­é…æ©˜è‰²ã€ç¶ è‰²ã€é»ƒè‰²é»ç¶´\nä¸»è§’è¨­è¨ˆ-å¯æ„›ç°¡åŒ–äººç‰©ï¼Œè‡‰éƒ¨è¼ªå»“ä¹¾æ·¨ã€è¡¨æƒ…è‡ªç„¶æº«å’Œ\næƒ…å¢ƒ-ä¾é€ æœ¬æ¬¡åƒè€ƒæ–‡ç« ä¸»é¡Œçµ¦å‡ºé©åˆçš„æ’åœ–æƒ…å¢ƒ\næç¤ºè©ç¯„ä¾‹:cartoon-style 2D illustration with a tech-inspired background, featuring clean flat design, vibrant colors (especially blue, orange, green), futuristic UI elements, and floating data charts (bar, pie, line, scatter). The character is centered, working on a laptop, surrounded by digital data icons. The atmosphere feels modern, educational, and visually engaging.\n-\næ˜¯å¦ç‚ºå»£å‘Šï¼ˆè¼¸å‡ºåœ¨ \"ads\"ï¼‰ï¼š\nå¦‚æœæ–‡ç« æ˜¯æ¨è–¦å¤–éƒ¨è³‡æºï¼ˆpodcastã€YouTubeï¼‰æˆ–æ‘˜è¦ï¼Œè¨­ç‚º1ã€‚\nå¦‚æœæ˜¯ç´”ä¹¾è²¨ï¼Œè¨­ç‚º0ã€‚\n-\né—œéµå­—åˆ¤æ–·ï¼ˆè¼¸å‡ºåœ¨ \"keyword\"ï¼‰ï¼š\nå¾æ–‡ç« å…§å®¹æå–ä¸»è¦ç—›é»ï¼ˆä¾‹å¦‚ã€Œå­¸ç¨‹å¼å¥½é›£ï¼Ÿã€ã€Œè½‰è·æ€•å¤±æ•—ï¼Ÿã€ï¼‰æˆ–ç›®æ¨™ï¼ˆä¾‹å¦‚ã€Œå¿«é€Ÿå…¥é–€ï¼Ÿã€ã€Œä½œå“é›†è¶…ç°¡å–®ï¼Ÿã€ï¼‰ã€‚\nåœ–ç‰‡æ–‡å­—å¿…é ˆç›¡é‡æ¸›çŸ­ 3~5 å­—ï¼Œä¸èƒ½æ˜¯å°ˆæœ‰åè©ï¼Œæˆ–å†·é–€è©å½™ï¼Œè¦å¸¶å•è™Ÿï¼Œç›´æ¥åæ˜ ç—›é»æˆ–ç›®æ¨™ï¼ˆä¾‹å¦‚ã€Œè½‰è·å¥½é›£ï¼Ÿã€ã€Œç¨‹å¼å´©æ½°ï¼Ÿã€ï¼‰ã€‚\n\n\nè¼¸å‡ºæ ¼å¼json\n\n{\n  \"delleprompt\": \"string\",\n  \"content\": \"string\",\n  \"ads\": number,\n  \"keyword\": \"string\"\n}",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        48,
        304
      ],
      "id": "fb7afc3b-d17e-431c-bbf9-2f31524a3ad1",
      "name": "AI Agent",
      "retryOnFail": true
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1FhMrAQ1QYx5_um-atT7XswDrBWHfveYdXPKgPvFo8mo",
          "mode": "list",
          "cachedResultName": "è‡ªå‹•çˆ¬æ–‡",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1FhMrAQ1QYx5_um-atT7XswDrBWHfveYdXPKgPvFo8mo/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1633330820,
          "mode": "list",
          "cachedResultName": "104å­¸ç¿’æˆé•·æ–‡ç« ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1FhMrAQ1QYx5_um-atT7XswDrBWHfveYdXPKgPvFo8mo/edit#gid=1633330820"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "æº–å‚™å¥½AIè½‰æ›äº†?",
              "lookupValue": "æ˜¯"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -432,
        224
      ],
      "id": "b7c5fe2d-e81b-4810-8e64-544120784b31",
      "name": "æ˜¯å¦AIç”Ÿç”¢?",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "HXx6WYHhpf2KWc58",
          "name": "huber@ooschool.cc Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "resource": "folder",
        "operation": "share",
        "folderNoRootId": {
          "__rl": true,
          "value": "1o_N14HcPoEJ4EFgUY0LVYgIvoi6-1sa_",
          "mode": "id"
        },
        "permissionsUi": {
          "permissionsValues": {
            "role": "reader",
            "type": "anyone"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        1216,
        304
      ],
      "id": "a1289897-b69d-44ee-8f62-3d84983b08c8",
      "name": "Google Drive1",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "dCPr5UwBiGZFmONZ",
          "name": "huber@ooschool.cc ForBubbleGoogle Drive"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        16,
        496
      ],
      "id": "f007d102-cea7-4a44-86b7-1d555ef44241",
      "name": "OpenAI Chat Model5",
      "credentials": {
        "openAiApi": {
          "id": "ahH6GnS2JZKgjMZU",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"delleprompt\": {\n      \"type\": \"string\"\n    },\n    \"content\": {\n      \"type\": \"string\"\n    },\n    \"ads\": {\n      \"type\": \"numbers\"\n    },\n    \"keyword\": {\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\"delleprompt\", \"content\", \"ads\",\"keyword\"]\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        256,
        480
      ],
      "id": "b4805320-8149-470f-be03-f192f9a6b823",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -768,
        240
      ],
      "id": "ad190d03-5336-492d-9363-8e50cdaa242e",
      "name": "When clicking â€˜Execute workflowâ€™"
    }
  ],
  "pinData": {},
  "connections": {
    "ç”Ÿæˆåœ–ç‰‡": {
      "main": [
        [
          {
            "node": "è½‰æ›æˆjpg",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è½‰æ›æˆjpg": {
      "main": [
        [
          {
            "node": "Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive": {
      "main": [
        [
          {
            "node": "Google Drive1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆåœ–ç‰‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ˜¯å¦AIç”Ÿç”¢?": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive1": {
      "main": [
        [
          {
            "node": "æ˜¯å¦AIç”Ÿç”¢?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "æ˜¯å¦AIç”Ÿç”¢?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "",
  "meta": {
    "instanceId": "51ba2530c2f054f081efbd6b785ff7cc6806ab2e497e099d7033fc18e407934c"
  },
  "tags": []
}